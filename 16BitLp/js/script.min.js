$(document).ready((function(){$("select").niceSelect(),$(".proofs__item-header").on("click",(function(){$(this).find(".proofs__item-btn").toggleClass("active"),$(this).find(".proofs__item-logo").toggleClass("active")}));const e={rus:"/ru.html",eng:"/",ch:"/ch.html",esp:"/esp.html"};var t=$(".nice-select .current"),s=$(".nice-select .list .option"),a=$(".nice-select .list .option.selected"),r=$(a).attr("data-value");$(t).prepend('<img class="current__flag" src="img/lang/'+r+'.png" />'),$(s).on("click",(function(){var t=$(this).attr("data-value");location.href=e[t]})),document.querySelectorAll(".slider").forEach(e=>{const t=new Swiper(e.querySelector(".gallery-thumbs"),{slidesPerView:1,onlyExternal:!0,allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0},loop:!0,speed:750,navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}});new Swiper(e.querySelector(".gallery-top"),{slidesPerView:3,speed:750,loop:!0,centeredSlides:!0,navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},thumbs:{swiper:t}})});var i=[],n=document.querySelectorAll("[data-move]");if(n.length>0)for(var l=0;l<n.length;l++){var o=n[l],c=o.getAttribute("data-move");""==c&&null==c||(o.setAttribute("data-move-index",l),i[l]={parent:o.parentNode,index:p(o)})}function d(){var e=document.querySelector("body").offsetWidth;if(n.length>0)for(var t=0;t<n.length;t++){var s=n[t],a=s.getAttribute("data-move");if(""!=a||null!=a){var r=a.split(","),i=document.querySelector("."+r[0]),l=r[1],o=r[2];if(e<o){if(!s.classList.contains("js-move_done_"+o)){if(l>0){var c=u(i)[l];i.insertBefore(s,i.childNodes[c])}else i.insertBefore(s,i.firstChild);s.classList.add("js-move_done_"+o)}}else s.classList.contains("js-move_done_"+o)&&(h(s),s.classList.remove("js-move_done_"+o))}}}function h(e){var t=e.getAttribute("data-move-index"),s=i[t],a=s.parent,r=s.index;if(r>0){var n=u(a)[r];a.insertBefore(e,a.childNodes[n])}else a.insertBefore(e,a.firstChild)}function p(e){for(var t=e.parentNode.childNodes,s=0,a=0;a<t.length;a++){if(t[a]==e)return s;1==t[a].nodeType&&s++}return-1}function u(e){for(var t=[],s=0;s<e.childNodes.length;s++)1==e.childNodes[s].nodeType&&null==e.childNodes[s].getAttribute("data-move")&&t.push(s);return t}function f(e){var t=0,s=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var a=e.val().replace(" ","");e.val(a)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.val())&&e.val()!=e.attr("data-value")?m(e):(t++,v(e))}else""==e.val()||e.val()==e.attr("data-value")?(t++,v(e)):m(e);return"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(t++,e.addClass("err").parent().addClass("err"))),e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(t++,v(e))),e.hasClass("pass-2")&&(s.find(".pass-1").val()!=s.find(".pass-2").val()?v(e):m(e)),t}function v(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var t="";null!=(t=(""==e.val()||(e.val(),e.attr("data-value")),e.data("error")))&&e.parent().append('<div class="form__error">'+t+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");e.parents(".select-block").length>0&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function m(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),e.parents(".select-block").length>0&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}window.addEventListener("resize",(function(e){d()})),d(),$.each($(".spoller.active"),(function(e,t){$(this).next().show()})),$("body").on("click",".spoller",(function(e){return $(this).find(".spoller__link").on("click",(function(e){e.stopPropagation()})),$(this).parents(".one").length>0&&($(this).parents(".one").find(".spoller").not($(this)).removeClass("active").next().slideUp(300),$(this).parents(".one").find(".spoller").not($(this)).parent().removeClass("active")),$(this).hasClass("closeall")&&!$(this).hasClass("active")&&$.each($(this).closest(".spollers").find(".spoller"),(function(e,t){$(this).removeClass("active"),$(this).next().slideUp(300)})),$(this).toggleClass("active").next().slideToggle(300,(function(e,t){$(this).parent().find(".slick-slider").length>0&&$(this).parent().find(".slick-slider").slick("setPosition")})),$(this).parent().toggleClass("active"),$(this).parent().find(".spoller-close").toggleClass("active"),!1})),$("body").on("click",".spoller-close",(function(){$(this).parent().removeClass("active").find(".proofs__item-btn").removeClass("active"),$(this).prev().slideUp(300),$(this).removeClass("active")})),$(".anchors").on("click",(function(e){e.preventDefault();var t,s=$(this).attr("href");t=$(s).offset().top-50,$("body,html").animate({scrollTop:t},1500)})),$("input,textarea").focus((function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),m($(this))})),$("input[data-value], textarea[data-value]").each((function(){""!=this.value&&this.value!=$(this).attr("data-value")||($(this).hasClass("l")&&0==$(this).parent().find(".form__label").length?$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>"):this.value=$(this).attr("data-value")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click((function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")})),$(this).blur((function(){""==this.value&&($(this).hasClass("l")||(this.value=$(this).attr("data-value")),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text")),$(this).hasClass("vn")&&f($(this))}))})),$.each($("input.phone"),(function(e,t){$(this).attr("type","tel"),$(this).focus((function(){$(this).inputmask("+7(999) 999 9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){maskclear($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")}))})),$("input.phone").focusout((function(e){maskclear($(this))})),$.each($("input.num"),(function(e,t){$(this).focus((function(){$(this).inputmask("9{1,1000}",{clearIncomplete:!0,placeholder:"",clearMaskOnLostFocus:!0,onincomplete:function(){maskclear($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")}))})),$("input.num").focusout((function(e){maskclear($(this))})),$("body").off("click",".check",(function(e){})),$("body").on("click",".check",(function(e){$(this).hasClass("disable")||$(e.target).is("a")||($(this).toggleClass("active"),$(this).hasClass("active")?$(this).find("input").prop("checked",!0):$(this).find("input").prop("checked",!1))})),$("form button[type=submit]").click((function(){var e=0,t=$(this).parents("form"),s=t.data("ms");return $.each(t.find(".req"),(function(t,s){e+=f($(this))})),0==e&&(function(e){e.find(".form__generalerror").hide().html("")}(t),null!=s&&""!=s?(function(e){$(".popup").hide(),popupOpen("message."+e,"")}(s),!1):void 0)}))}));const tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";const firstScriptTag=document.getElementsByTagName("script")[0];function onYouTubeIframeAPIReady(){const e=document.querySelectorAll("iframe");e&&e.forEach(e=>{e.id&&new YT.Player(e.id,{events:{onStateChange:function(e){0===e.data&&e.target.stopVideo()}}})})}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);